doctype html

mixin login-or-register(loginText,registerText)
  div
    .app-features.clickable(onclick="goTo('/login/')")
      div
        i.material-icons.big-icon verified_user
      div= loginText
    .app-features.clickable(onclick="goTo('/register/')")
      div
        i.material-icons.big-icon fingerprint
      div= registerText

mixin create-or-see-domains(domainName)
  div
    div
      a.btn.secondary(href="/domains/")
        i.material-icons list_alt
        span #{domainName} List
    div
      a.btn.primary(href="/actions/create/domains/")
        i.material-icons check_circle_outline
        span Create #{domainName}

mixin list-user-invites
  if(invites && invites.length>0)
    article#invites
      .hdg.hdg-1 Invites (#{user.domains.length})
      include invites

mixin list-user-domains(domainText)
  article#domains
    .hdg.hdg-1 #{domainText} (#{user.domains.length})
    .list-container
      if(user.domains)
        each domain in user.domains
          if domain.name!="Trash" && domain.name!="Default"
            .item-container.layout-width-1-2.layout-md-width-1-1
              .item-listing.layout-width-1-1.layout-height-1-1.layout-col
                .layout-col
                  .itemhead.layout-row #[a(href="/domains/" + domain.id + "/") #{domain.name}] 
                    if(user.defaultDomainId==domain.id)
                      | #[i.material-icons.badge(alt="(default account)" title="This is currently your default account") stars]
                  .layout-col
                    .itemdetail #{domain.description}
                    - let defaultToDomain = (user.defaultDomainId!=domain.id) ? "/users/" + user.id + "/actions/setdefaultdomain/" + domain.id + "/" : "";
                    if(user.defaultDomainId!=domain.id)
                      a#domain_make_default_button.btn.tertiary.layout-size-x1.buttondomaindefault(href= defaultToDomain)
                        i.material-icons stars
                        span Make Default
                  div
                    if(domain.notes)
                      .layout-row.layout-width-1-1 Notes:
                      each note in domain.notes
                        .item-listing.layout-row
                          .layout-row.layout-align-center
                            i.material-icons.text-grow-x3 receipt
                          .layout-col
                            .nobreak #{note.name}
                            .layout-row #{note.description}

mixin link(options)
  if(options.type=="link")
    link(rel= options.rel media= options.media href= options.href)
  else if (options.type=="script")
    script(src= options.src)

include mixins.pug

html
  include head.pug
  if(headoptions)
    for headoption in headoptions
      +link(headoption)
  body
    include navigation.pug
    .content
      include messages.pug
      block content
    block scripts
  include foot.pug